using CreditImmo;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace CreditImmoTest
{
    public class CSVMakerTest
    {
        [Fact]
        //est de la méthode MakeCSV
        public void MakeCSVTest()
        {
            CSVMaker csvMaker = new CSVMaker();
            string result = "N;Mensualite;Capital Rembourse;Capital Restant;Cout Credit :;13619,5\r\n1;424,13;424,13;63195,37\r\n2;424,13;848,26;62771,24\r\n3;424,13;1272,39;62347,11\r\n4;424,13;1696,52;61922,98\r\n5;424,13;2120,65;61498,85\r\n6;424,13;2544,78;61074,72\r\n7;424,13;2968,91;60650,59\r\n8;424,13;3393,04;60226,46\r\n9;424,13;3817,17;59802,33\r\n10;424,13;4241,3;59378,2\r\n11;424,13;4665,43;58954,07\r\n12;424,13;5089,56;58529,94\r\n13;424,13;5513,69;58105,81\r\n14;424,13;5937,82;57681,68\r\n15;424,13;6361,95;57257,55\r\n16;424,13;6786,08;56833,42\r\n17;424,13;7210,21;56409,29\r\n18;424,13;7634,34;55985,16\r\n19;424,13;8058,47;55561,03\r\n20;424,13;8482,6;55136,9\r\n21;424,13;8906,73;54712,77\r\n22;424,13;9330,86;54288,64\r\n23;424,13;9754,99;53864,51\r\n24;424,13;10179,12;53440,38\r\n25;424,13;10603,25;53016,25\r\n26;424,13;11027,38;52592,12\r\n27;424,13;11451,51;52167,99\r\n28;424,13;11875,64;51743,86\r\n29;424,13;12299,77;51319,73\r\n30;424,13;12723,9;50895,6\r\n31;424,13;13148,03;50471,47\r\n32;424,13;13572,16;50047,34\r\n33;424,13;13996,29;49623,21\r\n34;424,13;14420,42;49199,08\r\n35;424,13;14844,55;48774,95\r\n36;424,13;15268,68;48350,82\r\n37;424,13;15692,81;47926,69\r\n38;424,13;16116,94;47502,56\r\n39;424,13;16541,07;47078,43\r\n40;424,13;16965,2;46654,3\r\n41;424,13;17389,33;46230,17\r\n42;424,13;17813,46;45806,04\r\n43;424,13;18237,59;45381,91\r\n44;424,13;18661,72;44957,78\r\n45;424,13;19085,85;44533,65\r\n46;424,13;19509,98;44109,52\r\n47;424,13;19934,11;43685,39\r\n48;424,13;20358,24;43261,26\r\n49;424,13;20782,37;42837,13\r\n50;424,13;21206,5;42413\r\n51;424,13;21630,63;41988,87\r\n52;424,13;22054,76;41564,74\r\n53;424,13;22478,89;41140,61\r\n54;424,13;22903,02;40716,48\r\n55;424,13;23327,15;40292,35\r\n56;424,13;23751,28;39868,22\r\n57;424,13;24175,41;39444,09\r\n58;424,13;24599,54;39019,96\r\n59;424,13;25023,67;38595,83\r\n60;424,13;25447,8;38171,7\r\n61;424,13;25871,93;37747,57\r\n62;424,13;26296,06;37323,44\r\n63;424,13;26720,19;36899,31\r\n64;424,13;27144,32;36475,18\r\n65;424,13;27568,45;36051,05\r\n66;424,13;27992,58;35626,92\r\n67;424,13;28416,71;35202,79\r\n68;424,13;28840,84;34778,66\r\n69;424,13;29264,97;34354,53\r\n70;424,13;29689,1;33930,4\r\n71;424,13;30113,23;33506,27\r\n72;424,13;30537,36;33082,14\r\n73;424,13;30961,49;32658,01\r\n74;424,13;31385,62;32233,88\r\n75;424,13;31809,75;31809,75\r\n76;424,13;32233,88;31385,62\r\n77;424,13;32658,01;30961,49\r\n78;424,13;33082,14;30537,36\r\n79;424,13;33506,27;30113,23\r\n80;424,13;33930,4;29689,1\r\n81;424,13;34354,53;29264,97\r\n82;424,13;34778,66;28840,84\r\n83;424,13;35202,79;28416,71\r\n84;424,13;35626,92;27992,58\r\n85;424,13;36051,05;27568,45\r\n86;424,13;36475,18;27144,32\r\n87;424,13;36899,31;26720,19\r\n88;424,13;37323,44;26296,06\r\n89;424,13;37747,57;25871,93\r\n90;424,13;38171,7;25447,8\r\n91;424,13;38595,83;25023,67\r\n92;424,13;39019,96;24599,54\r\n93;424,13;39444,09;24175,41\r\n94;424,13;39868,22;23751,28\r\n95;424,13;40292,35;23327,15\r\n96;424,13;40716,48;22903,02\r\n97;424,13;41140,61;22478,89\r\n98;424,13;41564,74;22054,76\r\n99;424,13;41988,87;21630,63\r\n100;424,13;42413;21206,5\r\n101;424,13;42837,13;20782,37\r\n102;424,13;43261,26;20358,24\r\n103;424,13;43685,39;19934,11\r\n104;424,13;44109,52;19509,98\r\n105;424,13;44533,65;19085,85\r\n106;424,13;44957,78;18661,72\r\n107;424,13;45381,91;18237,59\r\n108;424,13;45806,04;17813,46\r\n109;424,13;46230,17;17389,33\r\n110;424,13;46654,3;16965,2\r\n111;424,13;47078,43;16541,07\r\n112;424,13;47502,56;16116,94\r\n113;424,13;47926,69;15692,81\r\n114;424,13;48350,82;15268,68\r\n115;424,13;48774,95;14844,55\r\n116;424,13;49199,08;14420,42\r\n117;424,13;49623,21;13996,29\r\n118;424,13;50047,34;13572,16\r\n119;424,13;50471,47;13148,03\r\n120;424,13;50895,6;12723,9\r\n121;424,13;51319,73;12299,77\r\n122;424,13;51743,86;11875,64\r\n123;424,13;52167,99;11451,51\r\n124;424,13;52592,12;11027,38\r\n125;424,13;53016,25;10603,25\r\n126;424,13;53440,38;10179,12\r\n127;424,13;53864,51;9754,99\r\n128;424,13;54288,64;9330,86\r\n129;424,13;54712,77;8906,73\r\n130;424,13;55136,9;8482,6\r\n131;424,13;55561,03;8058,47\r\n132;424,13;55985,16;7634,34\r\n133;424,13;56409,29;7210,21\r\n134;424,13;56833,42;6786,08\r\n135;424,13;57257,55;6361,95\r\n136;424,13;57681,68;5937,82\r\n137;424,13;58105,81;5513,69\r\n138;424,13;58529,94;5089,56\r\n139;424,13;58954,07;4665,43\r\n140;424,13;59378,2;4241,3\r\n141;424,13;59802,33;3817,17\r\n142;424,13;60226,46;3393,04\r\n143;424,13;60650,59;2968,91\r\n144;424,13;61074,72;2544,78\r\n145;424,13;61498,85;2120,65\r\n146;424,13;61922,98;1696,52\r\n147;424,13;62347,11;1272,39\r\n148;424,13;62771,24;848,26\r\n149;424,13;63195,37;424,13\r\n150;424,13;63619,5;0\r\n";
            Assert.Equal(result, csvMaker.MakeCSV(150, 424.13, 63619.5,50000));
        }
    }
}
