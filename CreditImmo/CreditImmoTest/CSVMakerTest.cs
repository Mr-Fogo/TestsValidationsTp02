using CreditImmo;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace CreditImmoTest
{
    public class CSVMakerTest
    {
        [Fact]
        //est de la méthode MakeCSV
        public void MakeCSVTest()
        {
            CSVMaker csvMaker = new CSVMaker();
            string result = "Nb;Mensualite;Capital Rembourse;capital Restant\r\n1;484,3;0;52304,4\r\n2;484,3;484,3;51820,1\r\n3;484,3;968,6;51335,799999999996\r\n4;484,3;1452,9;50851,49999999999\r\n5;484,3;1937,2;50367,19999999999\r\n6;484,3;2421,5;49882,89999999999\r\n7;484,3;2905,8;49398,599999999984\r\n8;484,3;3390,1000000000004;48914,29999999998\r\n9;484,3;3874,4000000000005;48429,99999999998\r\n10;484,3;4358,700000000001;47945,699999999975\r\n11;484,3;4843,000000000001;47461,39999999997\r\n12;484,3;5327,300000000001;46977,09999999997\r\n13;484,3;5811,600000000001;46492,79999999997\r\n14;484,3;6295,9000000000015;46008,49999999996\r\n15;484,3;6780,200000000002;45524,19999999996\r\n16;484,3;7264,500000000002;45039,89999999996\r\n17;484,3;7748,800000000002;44555,599999999955\r\n18;484,3;8233,100000000002;44071,29999999995\r\n19;484,3;8717,400000000001;43586,99999999995\r\n20;484,3;9201,7;43102,699999999946\r\n21;484,3;9686;42618,39999999994\r\n22;484,3;10170,3;42134,09999999994\r\n23;484,3;10654,599999999999;41649,79999999994\r\n24;484,3;11138,899999999998;41165,499999999935\r\n25;484,3;11623,199999999997;40681,19999999993\r\n26;484,3;12107,499999999996;40196,89999999993\r\n27;484,3;12591,799999999996;39712,599999999926\r\n28;484,3;13076,099999999995;39228,29999999992\r\n29;484,3;13560,399999999994;38743,99999999992\r\n30;484,3;14044,699999999993;38259,69999999992\r\n31;484,3;14528,999999999993;37775,399999999914\r\n32;484,3;15013,299999999992;37291,09999999991\r\n33;484,3;15497,599999999991;36806,79999999991\r\n34;484,3;15981,89999999999;36322,499999999905\r\n35;484,3;16466,19999999999;35838,1999999999\r\n36;484,3;16950,49999999999;35353,8999999999\r\n37;484,3;17434,79999999999;34869,5999999999\r\n38;484,3;17919,099999999988;34385,299999999894\r\n39;484,3;18403,399999999987;33900,99999999989\r\n40;484,3;18887,699999999986;33416,69999999989\r\n41;484,3;19371,999999999985;32932,399999999885\r\n42;484,3;19856,299999999985;32448,099999999886\r\n43;484,3;20340,599999999984;31963,799999999886\r\n44;484,3;20824,899999999983;31479,499999999887\r\n45;484,3;21309,199999999983;30995,199999999888\r\n46;484,3;21793,49999999998;30510,89999999989\r\n47;484,3;22277,79999999998;30026,59999999989\r\n48;484,3;22762,09999999998;29542,29999999989\r\n49;484,3;23246,39999999998;29057,99999999989\r\n50;484,3;23730,69999999998;28573,69999999989\r\n51;484,3;24214,999999999978;28089,399999999892\r\n52;484,3;24699,299999999977;27605,099999999893\r\n53;484,3;25183,599999999977;27120,799999999894\r\n54;484,3;25667,899999999976;26636,499999999894\r\n55;484,3;26152,199999999975;26152,199999999895\r\n56;484,3;26636,499999999975;25667,899999999896\r\n57;484,3;27120,799999999974;25183,599999999897\r\n58;484,3;27605,099999999973;24699,299999999897\r\n59;484,3;28089,399999999972;24214,999999999898\r\n60;484,3;28573,69999999997;23730,6999999999\r\n61;484,3;29057,99999999997;23246,3999999999\r\n62;484,3;29542,29999999997;22762,0999999999\r\n63;484,3;30026,59999999997;22277,7999999999\r\n64;484,3;30510,89999999997;21793,4999999999\r\n65;484,3;30995,199999999968;21309,199999999903\r\n66;484,3;31479,499999999967;20824,899999999903\r\n67;484,3;31963,799999999967;20340,599999999904\r\n68;484,3;32448,099999999966;19856,299999999905\r\n69;484,3;32932,399999999965;19371,999999999905\r\n70;484,3;33416,69999999997;18887,699999999906\r\n71;484,3;33900,99999999997;18403,399999999907\r\n72;484,3;34385,299999999974;17919,099999999908\r\n73;484,3;34869,59999999998;17434,79999999991\r\n74;484,3;35353,89999999998;16950,49999999991\r\n75;484,3;35838,19999999998;16466,19999999991\r\n76;484,3;36322,499999999985;15981,89999999991\r\n77;484,3;36806,79999999999;15497,599999999911\r\n78;484,3;37291,09999999999;15013,299999999912\r\n79;484,3;37775,399999999994;14528,999999999913\r\n80;484,3;38259,7;14044,699999999913\r\n81;484,3;38744;13560,399999999914\r\n82;484,3;39228,3;13076,099999999915\r\n83;484,3;39712,600000000006;12591,799999999916\r\n84;484,3;40196,90000000001;12107,499999999916\r\n85;484,3;40681,20000000001;11623,199999999917\r\n86;484,3;41165,500000000015;11138,899999999918\r\n87;484,3;41649,80000000002;10654,599999999919\r\n88;484,3;42134,10000000002;10170,29999999992\r\n89;484,3;42618,40000000002;9685,99999999992\r\n90;484,3;43102,700000000026;9201,69999999992\r\n91;484,3;43587,00000000003;8717,399999999921\r\n92;484,3;44071,30000000003;8233,099999999922\r\n93;484,3;44555,600000000035;7748,799999999922\r\n94;484,3;45039,90000000004;7264,499999999922\r\n95;484,3;45524,20000000004;6780,199999999922\r\n96;484,3;46008,500000000044;6295,899999999921\r\n97;484,3;46492,80000000005;5811,599999999921\r\n98;484,3;46977,10000000005;5327,299999999921\r\n99;484,3;47461,40000000005;4842,999999999921\r\n100;484,3;47945,700000000055;4358,699999999921\r\n101;484,3;48430,00000000006;3874,3999999999205\r\n102;484,3;48914,30000000006;3390,0999999999203\r\n103;484,3;49398,600000000064;2905,79999999992\r\n104;484,3;49882,90000000007;2421,49999999992\r\n105;484,3;50367,20000000007;1937,19999999992\r\n106;484,3;50851,50000000007;1452,89999999992\r\n107;484,3;51335,800000000076;968,5999999999201\r\n108;484,3;51820,10000000008;484,2999999999201\r\n";
            Assert.Equal(result, csvMaker.MakeCSV(108, 484.3, 52304.4));
        }
    }
}
